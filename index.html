<!DOCTYPE html>
<title>Mt. Moon</title>
<!--
	This file released under CC0.

	Image assets are copyright by The Pokemon Company, and I believe their use here falls
	under fair use.
-->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root {
	--border-width: 18px;
	--background-color: #1b1d26;
	--border-color: #253238;
	--shadow-color: #15171f;
	--corner-color: #45a8f6;
	--corner-ratio: 0.2;
	--scale: 1;
}
body {display: flex; justify-content: center; align-items: center; background: var(--background-color); width: 100dvw; height: 100dvh; margin: 0px}
#screen {
	width: calc(160px * var(--scale));
	height: calc(144px * var(--scale));
	image-rendering: pixelated;
	border: var(--border-width) solid transparent;
	border-radius: calc(var(--border-width) * (3 / 5));
	box-shadow: 0 var(--border-width) calc(var(--border-width) * 2) var(--shadow-color);
	--corner-size: calc(var(--border-width) * 0.8);
	--corner-offset-a: calc(var(--border-width) * (0.5 + var(--corner-ratio) / 2));
	--corner-offset-b: calc(var(--border-width) * (0.5 - var(--corner-ratio) / 2));
	--corner-offset-aa: calc(var(--corner-size) - var(--corner-offset-a) - 0.5px);
	--corner-offset-ab: calc(var(--corner-size) - var(--corner-offset-a) + 0.5px);
	--corner-offset-ba: calc(var(--corner-size) - var(--corner-offset-b) - 0.5px);
	--corner-offset-bb: calc(var(--corner-size) - var(--corner-offset-b) + 0.5px);
	--corner-width: calc(var(--border-width) * var(--corner-ratio));
	--corner-len: calc(var(--border-width) * 2 - var(--corner-size));
	background:
		radial-gradient(
			at bottom right,
			transparent var(--corner-offset-aa),
			var(--corner-color) var(--corner-offset-ab),
			var(--corner-color) var(--corner-offset-ba),
			transparent var(--corner-offset-bb)
		) border-box top left / var(--corner-size) var(--corner-size) no-repeat,
		linear-gradient(var(--corner-color)) border-box top var(--corner-size) left var(--corner-offset-b)
			/ var(--corner-width) var(--corner-len) no-repeat,
		linear-gradient(var(--corner-color)) border-box top var(--corner-offset-b) left var(--corner-size)
			/ var(--corner-len) var(--corner-width) no-repeat,
		radial-gradient(
			at bottom left,
			transparent var(--corner-offset-aa),
			var(--corner-color) var(--corner-offset-ab),
			var(--corner-color) var(--corner-offset-ba),
			transparent var(--corner-offset-bb)
		) border-box top right / var(--corner-size) var(--corner-size) no-repeat,
		linear-gradient(var(--corner-color)) border-box top var(--corner-size) right var(--corner-offset-b)
			/ var(--corner-width) var(--corner-len) no-repeat,
		linear-gradient(var(--corner-color)) border-box top var(--corner-offset-b) right var(--corner-size)
			/ var(--corner-len) var(--corner-width) no-repeat,
		radial-gradient(
			at top right,
			transparent var(--corner-offset-aa),
			var(--corner-color) var(--corner-offset-ab),
			var(--corner-color) var(--corner-offset-ba),
			transparent var(--corner-offset-bb)
		) border-box bottom left / var(--corner-size) var(--corner-size) no-repeat,
		linear-gradient(var(--corner-color)) border-box bottom var(--corner-size) left var(--corner-offset-b)
			/ var(--corner-width) var(--corner-len) no-repeat,
		linear-gradient(var(--corner-color)) border-box bottom var(--corner-offset-b) left var(--corner-size)
			/ var(--corner-len) var(--corner-width) no-repeat,
		radial-gradient(
			at top left,
			transparent var(--corner-offset-aa),
			var(--corner-color) var(--corner-offset-ab),
			var(--corner-color) var(--corner-offset-ba),
			transparent var(--corner-offset-bb)
		) border-box bottom right / var(--corner-size) var(--corner-size) no-repeat,
		linear-gradient(var(--corner-color)) border-box bottom var(--corner-size) right var(--corner-offset-b)
			/ var(--corner-width) var(--corner-len) no-repeat,
		linear-gradient(var(--corner-color)) border-box bottom var(--corner-offset-b) right var(--corner-size)
			/ var(--corner-len) var(--corner-width) no-repeat,
		var(--border-color);
}
</style>
<script type=module>
const maps = {
	f1: [
		[5,4,4,3,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3],
		[6,1,1,2,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
		[6,1,1,2,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
		[6,1,1,2,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,4,4,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,4,4,3],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,16,15,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,17,18,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,5,4,4,4,4,4,4,3,5,4,4,4,4,4,4,3,5,4,4,4,4,4,4,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,2,6,1,1,1,1,1,1,2,6,1,1,1,1,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,1,1,1,1,2,6,1,1,1,1,1,1,2,6,1,1,1,1,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,7,8,8,8,8,8,8,9,7,8,8,8,8,8,8,9,7,8,8,8,8,8,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,5,4,4,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,16,15,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,17,18,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,4,4,3,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,7,8,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,5,4,4,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,16,15,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8,8,9,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,17,18,0,0,0,0,0,0,0,0,0,0,0,0,7,8,8,9,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,5,4,4,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,4,4,3,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8,8,9,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,5,4,4,4,4,4,4,4,4,4,4,3,5,4,4,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,4,4,3,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,6,1,1,1,1,1,1,1,1,1,1,2,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,6,1,1,1,1,1,1,1,1,1,1,2,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,7,8,8,8,8,8,8,8,8,8,8,9,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,7,8,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8,8,9,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,6,1,1,2,0,0,0,0,5,4,4,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,4,4,3,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,6,1,1,2,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,6,1,1,2,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,7,8,8,9,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,30,29,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,7,8,8,9,0,0,0,0,0,0,0,0,0,0,31,32,0,0,0,0,0,0,0,0,0,0,0,0,7,8,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8,8,9,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,4,4,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,4,4,3,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,4,4,4,4,3,0,5,4,4,4,4,4,4,3,0,0,0,0,0,5,4,4,4,4,3,0,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,1,1,1,1,2,3,6,1,1,1,1,1,1,2,0,0,0,0,5,6,1,1,1,1,2,3,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,6,1,1,1,1,1,1,2,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,6,1,1,2,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,7,8,8,8,8,8,8,9,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,7,8,8,9,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,4,4,4,4,3,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,6,1,1,1,1,2,3,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,6,7,8,8,8,8,9,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,7,8,8,8,8,8,8,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,1,1,2],
		[6,1,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,6,6,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,8,8,9],
		[6,1,1,2,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,6,6,1,1,1,1,2,2,0,0,0,0,6,6,1,1,1,1,2,2,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3],
		[6,1,1,2,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,6,6,1,1,1,1,2,2,0,0,0,0,6,6,1,1,1,1,2,2,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
		[6,1,1,2,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,6,7,8,8,8,8,9,2,33,33,33,33,6,7,8,8,8,8,9,2,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2],
		[7,8,8,9,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,7,8,8,8,8,8,8,9,33,33,33,33,7,8,8,8,8,8,8,9,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9],
	],
	b1: [
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,8,8,8,8,8,8,8,8,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,16,15,1,1,1,1,1,1,20,19],
		[34,34,34,34,34,34,34,34,8,8,8,8,8,8,8,8,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,17,18,1,1,1,1,1,1,21,22],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,20,19,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,21,22,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,20,19,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,21,22,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,16,15,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,17,18,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,8,8,8,8,8,8,8,8],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,8,8,8,8,8,8,8,8],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,34,34,34,34,1,1,20,19,1,1,1,1],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,34,34,34,34,1,1,21,22,1,1,1,1],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,16,15,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,17,18,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,16,15,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
		[34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,34,1,1,1,1,1,1,17,18,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
	],
	b2: [
		[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[12,11,12,11,0,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,0,12,11,12,11,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[13,14,13,14,5,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,13,14,13,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[12,11,12,11,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,12,11,12,11,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[13,14,13,14,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,13,14,13,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[12,11,12,11,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,12,11,12,11,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[13,14,13,14,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,13,14,13,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[12,11,12,11,6,7,24,23,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,10,1,1,1,1,35,8,8,8,8,8,9,2,12,11,12,11,1,1,1,1,1,1,35,8,8,8,8,8,8,10,1,1,1,1,1,1,1,1,35,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[13,14,13,14,7,8,24,23,8,8,8,8,8,8,8,8,8,8,8,8,8,8,10,6,1,1,1,1,2,35,8,8,8,8,8,9,13,14,13,14,1,1,1,1,1,1,2,35,8,8,8,8,10,6,1,1,1,1,1,1,1,1,2,35,8,8,8,8,8,8,8,8,1,1,1,1,1,1,1,1],
		[12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,0,5,4,4,4,4,4,4,1,1,1,1,4,4,4,4,4,4,3,0,12,11,12,11,1,1,1,1,1,1,2,2,0,0,0,0,6,6,1,1,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1],
		[13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,5,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,13,14,13,14,1,1,1,1,1,1,2,2,0,0,0,0,6,6,1,1,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1],
		[12,11,12,11,1,1,1,1,1,1,20,19,1,1,1,1,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,12,11,12,11,1,1,1,1,1,1,2,2,0,0,0,0,6,7,8,8,24,23,24,23,8,8,9,2,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1],
		[13,14,13,14,1,1,1,1,1,1,21,22,1,1,1,1,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,13,14,13,14,1,1,1,1,1,1,2,2,0,0,0,0,7,8,8,8,24,23,24,23,8,8,8,9,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1],
		[12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,12,11,12,11,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8],
		[13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,13,14,13,14,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8],
		[12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,6,7,8,8,8,8,8,8,24,23,24,23,8,10,1,1,1,1,2,2,12,11,12,11,1,1,1,1,1,1,2,2,0,0,20,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,25,0,0,0,0,8,8,8,8,8,8,8,8],
		[13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,7,8,8,8,8,8,8,8,24,23,24,23,10,6,1,1,1,1,2,2,13,14,13,14,1,1,1,1,1,1,2,2,0,0,21,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,27,28,0,0,0,0,8,8,8,8,8,8,8,8],
		[8,8,8,8,8,8,8,8,8,8,8,8,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,6,6,1,1,1,1,2,2,12,11,12,11,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8],
		[8,8,8,8,8,8,8,8,8,8,8,8,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,6,6,1,1,1,1,2,2,13,14,13,14,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8],
		[8,8,8,8,8,8,8,8,8,8,8,8,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,6,7,8,8,8,8,9,2,12,11,12,11,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8],
		[8,8,8,8,8,8,8,8,8,8,8,8,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,7,8,8,8,8,8,8,9,13,14,13,14,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8],
		[0,0,0,0,0,0,0,0,0,0,0,0,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,1,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,3,0,0,5,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,35,8],
		[0,0,0,0,0,0,0,0,0,0,0,0,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,3,5,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,35],
		[0,0,0,0,0,0,0,0,0,0,0,0,12,11,12,11,12,11,12,11,12,11,12,11,1,1,1,1,12,11,12,11,12,11,12,11,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,13,14,13,14,13,14,13,14,13,14,13,14,1,1,1,1,13,14,13,14,13,14,13,14,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,8,8,8,8,8,8,8,8,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,8,8,8,8,8,8,8,8,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,8,8,8,8,8,8,8,8,12,11,12,11,1,1,1,1,1,1,1,1,35,8,8,8,24,23,24,23,8,8,9,2,6,7,8,8,24,23,24,23,8,8,8,10,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,8,8,8,8,8,8,8,8,13,14,13,14,1,1,1,1,1,1,1,1,2,35,8,8,24,23,24,23,8,8,8,9,7,8,8,8,24,23,24,23,8,8,10,6,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,20,19,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,21,22,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,12,11,12,11,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,12,11,12,11,8,8,8,8,8,8,8,8,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,13,14,13,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,13,14,13,14,8,8,8,8,8,8,8,8,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,12,11,12,11,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,10,1,1,1,1,1,1,1,1,35,8,8,8,8,8,12,11,12,11,8,8,8,8,8,8,8,8,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,13,14,13,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,10,6,1,1,1,1,1,1,1,1,2,35,8,8,8,8,13,14,13,14,8,8,8,8,8,8,8,8,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,6,1,1,1,1,1,1,1,1,2,2,1,1,1,1,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,6,1,1,1,1,1,1,1,1,2,2,1,1,1,1,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,7,8,8,24,23,24,23,8,8,9,2,1,1,1,1,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,7,8,8,8,24,23,24,23,8,8,8,9,1,1,1,1,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,1,1,1,1,35,8,8,8,8,8,8,8,9,2],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,1,1,1,1,2,35,8,8,8,8,8,8,8,9],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,20,19,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,12,11,12,11,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,21,22,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,13,14,13,14,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,12,11,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,13,14,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,6,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,2,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
	]
}

const ladders = {
	f1: {
		up: [],
		down: [{x: 5, y: 5}, {x: 17, y: 11}, {x: 25, y: 15}],
	},
	b1: {
		up: [{x: 5, y: 5}, {x: 27, y: 3}, {x: 25, y: 9}, {x: 25, y: 15}],
		down: [{x: 23, y: 3}, {x: 17, y: 11}, {x: 21, y: 17}, {x: 13, y: 27}],
	},
	b2: {
		up: [{x: 5, y: 7}, {x: 25, y: 9}, {x: 21, y: 17}, {x: 15, y: 27}],
		down: [],
	},
}

function get_next_floor(floor, direction) {
	const floors = Object.keys(maps)
	const offset = direction === 'up' ? -1 : 1
	const next_floor_index = floors.findIndex(e => e === floor) + offset
	return floors[next_floor_index]
}

const screen_width = 20
const screen_height = 18

function gen_transition_mappings(map) {
	const forbidden_tiles = [33];

	const width = map[0].length;
	const height = map.length;

	const t_e = new Map()
	for (let r = 0; r < height - screen_height; r += 2) {
		for (let c = 1; c < width - 2; c += 2) {
			const from = new Array(screen_height)
			const to = [new Array(screen_height), new Array(screen_height)]
			for (let i = 0; i < screen_height; ++i) {
				from[i] = map[r + i][c];
				to[0][i] = map[r + i][c + 1];
				to[1][i] = map[r + i][c + 2];
			}
			if (to.some(arr => arr.some(i => forbidden_tiles.includes(i)))) continue
			const from_s = from.join()
			if (!t_e.has(from_s)) t_e.set(from_s, [])
			t_e.get(from_s).push(to)
		}
	}

	const t_n = new Map()
	for (let r = 2; r < height; r += 2) {
		for (let c = 0; c < width - screen_width; c += 2) {
			const from = new Array(screen_width)
			const to = [new Array(screen_width), new Array(screen_width)]
			for (let i = 0; i < screen_width; ++i) {
				from[i] = map[r][c + i];
				to[0][i] = map[r - 1][c + i];
				to[1][i] = map[r - 2][c + i];
			}
			if (to.some(arr => arr.some(i => forbidden_tiles.includes(i)))) continue
			const from_s = from.join()
			if (!t_n.has(from_s)) t_n.set(from_s, [])
			t_n.get(from_s).push(to)
		}
	}

	const t_w = new Map()
	for (let r = 0; r < height - screen_height; r += 2) {
		for (let c = 2; c < width; c += 2) {
			const from = new Array(screen_height)
			const to = [new Array(screen_height), new Array(screen_height)]
			for (let i = 0; i < screen_height; ++i) {
				from[i] = map[r + i][c];
				to[0][i] = map[r + i][c - 1];
				to[1][i] = map[r + i][c - 2];
			}
			if (to.some(arr => arr.some(i => forbidden_tiles.includes(i)))) continue
			const from_s = from.join()
			if (!t_w.has(from_s)) t_w.set(from_s, [])
			t_w.get(from_s).push(to)
		}
	}

	const t_s = new Map()
	for (let r = 1; r < height - 2; r += 2) {
		for (let c = 0; c < width - screen_width; c += 2) {
			const from = new Array(screen_width)
			const to = [new Array(screen_width), new Array(screen_width)]
			for (let i = 0; i < screen_width; ++i) {
				from[i] = map[r][c + i];
				to[0][i] = map[r + 1][c + i];
				to[1][i] = map[r + 2][c + i];
			}
			if (to.some(arr => arr.some(i => forbidden_tiles.includes(i)))) continue
			const from_s = from.join()
			if (!t_s.has(from_s)) t_s.set(from_s, [])
			t_s.get(from_s).push(to)
		}
	}

	return {e: t_e, n: t_n, w: t_w, s: t_s}
}

const transitions = Object.fromEntries(Object.entries(maps).map(([name, map]) => [name, gen_transition_mappings(map)]))

const default_subs = {
	f1: {
		e: [
			[0, 0], [1, 2], [0, 0], [0, 0], [4, 3], [4, 3],
			[1, 2], [8, 9], [8, 9], [0, 0], [1, 2], [0, 0],
			[11, 0], [14, 0], [0, 0], [0, 0], [15, 0], [18, 0],
			[0, 0], [0, 0], [19, 0], [22, 0], [0, 0], [8, 9],
			[23, 9], [0, 0], [25, 0], [28, 0], [0, 0], [0, 0],
			[29, 0], [32, 0], [0, 0], [0, 0], [34, 34], [8, 9],
		],
		n: [
			[0, 0], [1, 4], [2, 3], [0, 0], [0, 0], [0, 0],
			[6, 5], [6, 5], [1, 4], [2, 3], [1, 4], [0, 0],
			[0, 0], [12, 0], [11, 0], [0, 0], [0, 0], [16, 0],
			[15, 0], [0, 0], [0, 0], [20, 0], [19, 0], [0, 0],
			[0, 0], [0, 0], [0, 0], [26, 0], [25, 0], [0, 0],
			[0, 0], [30, 0], [29, 0], [0, 0], [34, 34], [1, 4],
		],
		w: [
			[0, 0], [1, 6], [4, 5], [4, 5], [4, 5], [0, 0],
			[0, 0], [0, 0], [8, 7], [8, 7], [8, 7], [12, 0],
			[0, 0], [0, 0], [13, 0], [16, 0], [0, 0], [0, 0],
			[17, 0], [19, 0], [0, 0], [0, 0], [21, 0], [24, 7],
			[8, 7], [26, 0], [0, 0], [0, 0], [27, 0], [30, 0],
			[0, 0], [0, 0], [31, 0], [0, 0], [34, 34], [1, 6],
		],
		s: [
			[0, 0], [1, 8], [2, 9], [2, 9], [1, 8], [6, 7],
			[6, 7], [0, 0], [0, 0], [0, 0], [6, 7], [14, 0],
			[13, 0], [0, 0], [0, 0], [18, 0], [17, 0], [0, 0],
			[0, 0], [22, 0], [21, 0], [0, 0], [0, 0], [0, 0],
			[0, 0], [28, 0], [27, 0], [0, 0], [0, 0], [32, 0],
			[31, 0], [0, 0], [0, 0], [0, 0], [34, 34], [2, 9],
		],
	},
	b1: {
		e: [
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
		],
		n: [
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
		],
		w: [
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
		],
		s: [
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
			[34, 34], [34, 34], [34, 34], [34, 34], [34, 34], [34, 34],
		],
	},
	b2: {
		e: [
			[0, 0], [1, 1], [0, 0], [0, 0], [4, 4], [4, 4],
			[1, 1], [8, 8], [8, 8], [0, 0], [1, 1], [12, 11],
			[11, 12], [14, 13], [13, 14], [null, null], [15, null], [18, null],
			[null, null], [null, null], [19, null], [22, null], [null, null], [8, 8],
			[23, 8], [0, 0], [25, 0], [28, 0], [0, 0], [0, 0],
			[29, 0], [32, 0], [0, 0], [0, 0], [34, 34], [1, 1],
		],
		n: [
			[0, 0], [1, 1], [2, 2], [0, 0], [0, 0], [0, 0],
			[6, 6], [6, 6], [1, 1], [2, 2], [1, 1], [1, 1],
			[1, 1], [12, 1], [11, 1], [null, null], [null, null], [16, null],
			[15, null], [null, null], [null, null], [20, null], [19, null], [1, 1],
			[1, 1], [0, 0], [0, 0], [26, 0], [25, 0], [0, 0],
			[0, 0], [30, 0], [29, 0], [0, 0], [34, 34], [1, 1],
		],
		w: [
			[0, 0], [1, 1], [1, 1], [4, 4], [4, 4], [0, 0],
			[0, 0], [0, 0], [8, 8], [8, 8], [8, 8], [12, 11],
			[11, 12], [14, 13], [13, 14], [16, null], [null, null], [null, null],
			[17, null], [19, null], [null, null], [null, null], [21, null], [24, 8],
			[8, 8], [26, 0], [0, 0], [0, 0], [27, 0], [30, 0],
			[0, 0], [0, 0], [31, 0], [0, 0], [34, 34], [1, 1],
		],
		s: [
			[0, 0], [1, 1], [2, 2], [2, 2], [1, 1], [6, 6],
			[6, 6], [0, 0], [0, 0], [0, 0], [6, 6], [14, 8],
			[13, 8], [8, 8], [8, 8], [18, null], [17, null], [null, null],
			[null, null], [22, null], [21, null], [null, null], [null, null], [null, null],
			[null, null], [28, 0], [27, 0], [0, 0], [0, 0], [32, 0],
			[31, 0], [0, 0], [0, 0], [0, 0], [34, 34], [2, 2],
		],
	},
}


function append_view(view, dir, floor) {
	const from =
		dir === 'e' ? view.map(row => row[row.length - 1]) :
		dir === 'n' ? view[0] :
		dir === 's' ? view[view.length - 1] :
		dir === 'w' ? view.map(row => row[0]) :
		undefined
	const deflt = [
		new Array(from.length),
		new Array(from.length),
	]
	for (let i = 0; i < from.length; ++i) {
		const sub = default_subs[floor][dir][from[i]]
		deflt[0][i] = sub[0]
		deflt[1][i] = sub[1]
	}
	for (let i = 0; i < from.length; ++i) {
		deflt[0][i] ??= deflt[0][i - 1] ?? deflt[0][i + 1] ?? 0
		deflt[1][i] ??= deflt[1][i - 1] ?? deflt[1][i + 1] ?? 0
	}

	const spawn_default_ladder = Math.random() < 8 / (screen_width * screen_height)
	if (spawn_default_ladder) {
		const spawnable = [0, 1]
		const candidates = []
		for (let i = 0; i < from.length; i += 2) {
			if ([
				deflt[0][i],
				deflt[1][i],
				deflt[0][i + 1],
				deflt[1][i + 1],
			].every(t => spawnable.includes(t))) {
				candidates.push(i)
			}
		}
		const r = Math.floor(Math.random() * candidates.length)
		const i = candidates[r]


		const down_ladder =
			dir === 'e' ? [16, 15, 17, 18] :
			dir === 'n' ? [17, 16, 18, 15] :
			dir === 's' ? [16, 17, 15, 18] :
			dir === 'w' ? [15, 16, 18, 17] :
			undefined
		const up_ladder =
			dir === 'e' ? [20, 19, 21, 22] :
			dir === 'n' ? [21, 20, 22, 19] :
			dir === 's' ? [20, 21, 19, 22] :
			dir === 'w' ? [19, 20, 22, 21] :
			undefined
		const ladder_tiles =
			floor == 'f1' ? down_ladder :
			floor == 'b1' && Math.random() < 0.5 ? down_ladder :
			floor == 'b1' ? up_ladder :
			floor == 'b2' ? up_ladder :
			undefined

		deflt[0][i] = ladder_tiles[0]
		deflt[1][i] = ladder_tiles[1]
		deflt[0][i + 1] = ladder_tiles[2]
		deflt[1][i + 1] = ladder_tiles[3]
	}

	const choices = transitions[floor][dir].get(from.join()) ?? [deflt]
	const i = Math.floor(Math.random() * choices.length)
	const choice = window.structuredClone(choices[i])

	switch (dir) {
		case 'e':
			for (let i = 0; i < view.length; ++i) {
				view[i].push(choice[0][i])
				view[i].push(choice[1][i])
			}
			break
		case 'n':
			view.unshift(choice[0])
			view.unshift(choice[1])
			break
		case 'w':
			for (let i = 0; i < view.length; ++i) {
				view[i].unshift(choice[0][i])
				view[i].unshift(choice[1][i])
			}
			break
		case 's':
			view.push(choice[0])
			view.push(choice[1])
			break
	}
}

function truncate_view(view, dir) {
	switch (dir) {
		case 'e':
			for (let i = 0; i < view.length; ++i) {
				view[i].shift()
				view[i].shift()
			}
			break
		case 'n':
			view.pop()
			view.pop()
			break
		case 'w':
			for (let i = 0; i < view.length; ++i) {
				view[i].pop()
				view[i].pop()
			}
			break
		case 's':
			view.shift()
			view.shift()
			break
	}
}

function new_view(map, offset) {
	const view = []
	for (let r = 0; r < 18; ++r) {
		view.push([])
		for (let c = 0; c < 20; ++c) {
			view[r].push(map[r + offset.y * 2 - 8]?.at(c + offset.x * 2 - 8) ?? 34)
		}
	}
	return view
}

const tile_size = 8
const screen = document.getElementById('screen')
const ctx = screen.getContext('2d')
const tile_sheet = await fetch('assets/tiles.png')
	.then(res => res.blob())
	.then(blob => window.createImageBitmap(blob))
const player_sheet = await fetch('assets/player.png')
	.then(res => res.blob())
	.then(blob => window.createImageBitmap(blob))

const passable_tiles = [0, 1, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 33];
function is_passable(view, pos) {
	for (let r = pos[1]; r < pos[1] + 2; ++r)
		for (let c = pos[0]; c < pos[0] + 2; ++c)
			if (!passable_tiles.includes(view[r][c])) return false
	return true
}

function check_ladder_type(view, pos) {
	const tiles = [
		view[pos[1]][pos[0] + 1],
		view[pos[1]][pos[0]],
		view[pos[1] + 1][pos[0]],
		view[pos[1] + 1][pos[0] + 1],
	]

	if (tiles.join() === [15, 16, 17, 18].join()) return 'down'
	else if (tiles.join() === [19, 20, 21, 22].join()) return 'up'
	else return 'none'
}

function is_in_view(view, x, y) {
	return 0 <= y && y < view.length && 0 <= x && x < view[y].length
}

function shortest_path(view, from, to) {
	if (!is_in_view(view, to.x * 2, to.y * 2)) return null

	const dist = []
	const prev = []
	const Q = []
	for (let r = 0; r < view.length / 2; ++r) {
		dist.push([])
		prev.push([])
		for (let c = 0; c < view[r].length / 2; ++c) {
			dist[r].push(Infinity)
			prev[r].push(null)
			Q.push({x: c, y: r})
		}
	}

	dist[from.y][from.x] = 0

	while (Q.length > 0) {
		let i = 0
		let u = Q[0]
		for (let j = 1; j < Q.length; ++j) {
			if (dist[Q[j].y][Q[j].x] < dist[u.y][u.x]) {
				u = Q[j]
				i = j
			}
		}
		Q.splice(i, 1)
		if (u.x === to.x && u.y === to.y) break;

		const neighbors = [['e', 1, 0], ['n', 0, -1], ['w', -1, 0], ['s', 0, 1]]
			.map(([dir, x, y]) => ({dir: dir, x: u.x + x, y: u.y + y}))
			.filter(({dir, x, y}) => {
				const is_in_Q = () => Q.some(elem => elem.x === x && elem.y === y)
				return is_in_view(view, x * 2, y * 2) && is_in_Q()
			})
		for (let neighbor of neighbors) {
			const neighbor_tile = [neighbor.x * 2, neighbor.y * 2]
			const u_tile = [u.x * 2, u.y * 2]
			const neighbor_dist = is_passable(view, neighbor_tile) && is_passable(view, u_tile)
				? 1
				: Infinity
			const alt = dist[u.y][u.x] + neighbor_dist
			if (neighbor_dist < dist[neighbor.y][neighbor.x]) {
				dist[neighbor.y][neighbor.x] = alt
				prev[neighbor.y][neighbor.x] = {pos: u, dir: neighbor.dir}
			}
		}
	}

	if (dist[to.y][to.x] === Infinity) {
		return null
	} else {
		const path = []
		let pos = to
		while (!(pos.x === from.x && pos.y === from.y)) {
			path.unshift(prev[pos.y][pos.x].dir)
			pos = prev[pos.y][pos.x].pos
		}
		return path
	}
}

function get_offset(i) {
	const width = tile_sheet.width / tile_size
	const row = Math.floor(i / width)
	const col = i % width
	return [col * tile_size, row * tile_size]
}

function draw_tile(i, r, c) {
	const [tx, ty] = get_offset(i)
	const [x, y] = [c * tile_size, r * tile_size]
}

function draw_view(view, offset) {
	for (let r = 0; r < view.length; ++r) {
		for (let c = 0; c < view[r].length; ++c) {
			const [tx, ty] = get_offset(view[r][c])
			const [x, y] = [c * tile_size - offset.x, r * tile_size - offset.y]
			ctx.drawImage(tile_sheet, tx, ty, tile_size, tile_size, x, y, tile_size, tile_size)
		}
	}
}

function draw_player(dir, t, parity) {
	const direction_index = ['e', 'n', 'w', 's'].findIndex(e => e === dir)
	const px = direction_index * tile_size * 2
	const py = ((t > 1 / 3) + parity * 2) * tile_size * 2
	ctx.drawImage(
		player_sheet,
		px,
		py,
		tile_size * 2,
		tile_size * 2,
		8 * tile_size,
		8 * tile_size - 4,
		tile_size * 2,
		tile_size * 2
	)
}

const init_offset = {x: 14, y: 35}
const state = {
	view: new_view(maps['f1'], init_offset),
	facing_dir: 'n',
	moving: false,
	moved_last_frame: false,
	consecutive_moves: 0,
	animation_start_time: null,
	keys: new Set(),
	click: null,
	floor: 'f1',
	navigation: [],
}

document.body.addEventListener('keydown', e => state.keys.add(e.key))
document.body.addEventListener('keyup', e => state.keys.delete(e.key))
document.body.addEventListener('click', e => state.click = {x: e.offsetX, y: e.offsetY})

function run() {
	const border_width = Number(window
		.getComputedStyle(document.documentElement)
		.getPropertyValue('--border-width')
		.replace('px', ''))
	const scale = Math.max(1.0, Math.min(
		Math.floor(window.innerWidth / (screen.width + 2 * border_width)),
		Math.floor(window.innerHeight / (screen.height + 2 * border_width)),
	));
	document.documentElement.style.setProperty('--scale', `${scale}`);

	let just_finished_moving = false
	let offset = {x: 0, y: 0}

	let prev_facing_dir = state.facing_dir;
	let pressed_dir = false;

	if (!state.moving && state.click !== null) {
		const pos = {
			x: Math.floor(state.click.x / scale / tile_size / 2),
			y: Math.floor(state.click.y / scale / tile_size / 2),
		}
		state.click = null
		state.navigation = shortest_path(state.view, {x: 4, y: 4}, pos) ?? []
	}

	if (state.moving) {
		state.click = null
	} else if (state.navigation.length > 0) {
		state.facing_dir = state.navigation.shift()
		prev_facing_dir = state.facing_dir
		pressed_dir = true
	} else if (state.keys.has('ArrowRight') && !state.keys.has('ArrowLeft')) {
		state.facing_dir = 'e'
		pressed_dir = true
	} else if (state.keys.has('ArrowUp') && !state.keys.has('ArrowDown')) {
		state.facing_dir = 'n'
		pressed_dir = true
	} else if (state.keys.has('ArrowLeft') && !state.keys.has('ArrowRight')) {
		state.facing_dir = 'w'
		pressed_dir = true
	} else if (state.keys.has('ArrowDown') && !state.keys.has('ArrowUp')) {
		state.facing_dir = 's'
		pressed_dir = true
	}

	if (pressed_dir && state.facing_dir === prev_facing_dir) {
		const next_pos =
			state.facing_dir === 'e' ? [8 + 2, 8] :
			state.facing_dir === 'n' ? [8, 8 - 2] :
			state.facing_dir === 's' ? [8, 8 + 2] :
			state.facing_dir === 'w' ? [8 - 2, 8] :
			undefined
		if (is_passable(state.view, next_pos)) {
			state.moving = true
			state.consecutive_moves += 1
			state.animation_start_time = performance.now()
			append_view(state.view, state.facing_dir, state.floor)
		} else {
			state.navigation = []
		}
	}

	const move_time = (performance.now() - state.animation_start_time) / 1000 * (60 / 12)
	const norm_move_time = Math.min(Math.max(move_time, 0.0), 1.0)
	if (state.moving) {
		state.moved_last_frame = true
		just_finished_moving = norm_move_time === 1.0

		if (just_finished_moving) {
			truncate_view(state.view, state.facing_dir)
			state.moving = false
			state.animation_start_time = null
		} else {
			offset =
				state.facing_dir === 'e' ? {x: norm_move_time * tile_size * 2, y: 0} :
				state.facing_dir === 'n' ? {x: 0, y: (1.0 - norm_move_time) * tile_size * 2} :
				state.facing_dir === 's' ? {x: 0, y: norm_move_time * tile_size * 2} :
				state.facing_dir === 'w' ? {x: (1.0 - norm_move_time) * tile_size * 2, y: 0} :
				undefined
			offset = {x: Math.round(offset.x), y: Math.round(offset.y)}
		}
	} else {
		state.moved_last_frame = false
	}

	if (just_finished_moving) {
		const ladder_type = check_ladder_type(state.view, [8, 8])
		if (ladder_type != 'none') {
			state.navigation = []
			const next_floor = get_next_floor(state.floor, ladder_type)
			const complementary_ladder_type = ladder_type === 'up' ? 'down' : 'up'
			const next_floor_ladders = ladders[next_floor][complementary_ladder_type]
			const i = Math.floor(Math.random() * next_floor_ladders.length)
			const random_ladder = next_floor_ladders[i]
			state.view = new_view(maps[next_floor], random_ladder)
			state.floor = next_floor
			state.facing_dir = 's'
		}
	}

	draw_view(state.view, offset)
	draw_player(state.facing_dir, state.moving ? norm_move_time : 0, state.consecutive_moves % 2)
	requestAnimationFrame(run)
}

requestAnimationFrame(run)

</script>
<canvas id=screen width=160 height=144></canvas>
